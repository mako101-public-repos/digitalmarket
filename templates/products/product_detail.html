{%  extends 'base.html' %}

{% block content %}
    {{ block.super }}   {# we are importing the content #}
                        {# from the parent's block! #}
    <h1>{{ greeting }}</h1>
    <h4>Here are the product details</h4>

    {#  object is a variable for DetailVIew class  #}
    <h3>Product: {{ object }}</h3>
    <h3>Title: {{ object.title }}</h3>
    <i>{{ object.description }}</i>
    <p>Price: {{ object.price }}</p>
    <p>Sale Price: {{ object.sale_price }}</p>
    <p>Is available: {{ object.is_available }}</p>

    {% if object.media %}
        {#  object.get_download here is the same as {% url 'products:download' object.id %} #}
        <form action="{{ object.get_download }}">
            <input type="submit" value="Download Media" />
        </form>
        <br>
    {% endif %}

    {# Show the edit option for product owners and managers  #}
    {% if allowed_to_edit %}
        <form action="{% url 'products:edit' object.id %}">
            <input type="submit" value="Edit Product" />
        </form>
    {% endif %}

{% endblock %}